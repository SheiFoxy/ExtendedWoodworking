<Patch>
    <Operation Class="PatchOperationSequence">
        <success>Always</success>
        <operations>
            <li Class="ModCheck.isModLoaded">
                <modName>%MOD%</modName>
                <yourMod>Extended Woodworking</yourMod>
            </li>
            <li Class="ModCheck.loadOrder">
                <modName>%MOD%</modName>
                <yourMod>Extended Woodworking</yourMod>
                <errorOnFail>true</errorOnFail>
            </li>
            <li Class="PatchOperationTest">
                <xpath>Defs/*[defName="%NAME%"]/costList/WoodLog</xpath>
            </li>
            <li Class="PatchOperationRemove">
                <xpath>Defs/*[defName="%NAME%"]/costList/WoodLog</xpath>
            </li>
            <li Class="PatchOperationConditional">
                <xpath>Defs/*[defName="%NAME%" and (stuffCategories)]</xpath>
                <match Class="PatchOperationAdd">
                    <xpath>Defs/*[defName="%NAME%"]/stuffCategories</xpath>
                    <value>
                        <li>Woody</li>
                    </value>
                </match>
                <nomatch Class="PatchOperationAdd">
                    <xpath>Defs/*[defName="%NAME%"]</xpath>
                    <value>
                        <stuffCategories>
                            <li>Woody</li>
                        </stuffCategories>
                    </value>
                </nomatch>
            </li>
            <li Class="PatchOperationConditional">
                <success>Always</success>
                <xpath>Defs/*[defName="%NAME%" and not(costStuffCount)]</xpath>
                <match Class="PatchOperationAdd">
                    <xpath>Defs/*[defName="%NAME%"]</xpath>
                    <value>
                        <costStuffCount>%COST%</costStuffCount>
                    </value>
                </match>
            </li>
            <li Class="PatchOperationConditional">
                <success>Always</success>
                <xpath>Defs/*[defName="%NAME%"]/constructEffect</xpath>
                <match Class="PatchOperationRemove">
                    <xpath>Defs/*[defName="%NAME%"]/constructEffect</xpath>
                </match>
            </li>
        </operations>
    </Operation>
</Patch>